{"is_source_file": true, "format": "Python", "description": "This file provides a wrapper around the OpenAI chat API, designed to generate answers based on provided context snippets. It includes fallback logic when API keys or SDK are missing, and defines functions for generating responses with external service integration.", "external_files": ["./config"], "external_methods": ["SETTINGS.openai_api_key", "SETTINGS.openai_model", "SETTINGS.generation_temperature"], "published": ["generate_answer"], "classes": [], "methods": [{"name": "str _fallback_answer(question: str, context_snippets: List[str])", "description": "Returns a fallback answer message when OpenAI API call is not possible, based on available context snippets.", "scope": "", "scopeKind": ""}, {"name": "Dict generate_answer(question: str, context_snippets: List[str])", "description": "Main function that attempts to generate an answer using OpenAI's API, or falls back to a default response if not possible.", "scope": "", "scopeKind": ""}], "calls": ["openai.OpenAI", "client.chat.completions.create", "logger.info", "logger.error"], "search-terms": ["openai_client", "generate_answer", "chat.completions.create", "fallback_answer", "api_key", "model", "generation_temperature"], "state": 2, "file_id": 24, "knowledge_revision": 89, "git_revision": "083f6543f038201fbd0a995f3cb92a18615a8aa9", "revision_history": [{"50": ""}, {"86": "083f6543f038201fbd0a995f3cb92a18615a8aa9"}, {"89": "083f6543f038201fbd0a995f3cb92a18615a8aa9"}], "ctags": [{"_type": "tag", "name": "OpenAI", "path": "/home/kavia/workspace/code-generation/company-data-qa-platform-2984-2993/qanda_backend/api/services/openai_client.py", "pattern": "/^    OpenAI = None$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "SYSTEM_PROMPT", "path": "/home/kavia/workspace/code-generation/company-data-qa-platform-2984-2993/qanda_backend/api/services/openai_client.py", "pattern": "/^SYSTEM_PROMPT = ($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_fallback_answer", "path": "/home/kavia/workspace/code-generation/company-data-qa-platform-2984-2993/qanda_backend/api/services/openai_client.py", "pattern": "/^def _fallback_answer(question: str, context_snippets: List[str]) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(question: str, context_snippets: List[str])"}, {"_type": "tag", "name": "generate_answer", "path": "/home/kavia/workspace/code-generation/company-data-qa-platform-2984-2993/qanda_backend/api/services/openai_client.py", "pattern": "/^def generate_answer(question: str, context_snippets: List[str]) -> Dict:$/", "language": "Python", "typeref": "typename:Dict", "kind": "function", "signature": "(question: str, context_snippets: List[str])"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/company-data-qa-platform-2984-2993/qanda_backend/api/services/openai_client.py", "pattern": "/^logger = logging.getLogger(\"api.services.openai_client\")$/", "language": "Python", "kind": "variable"}], "hash": "68f40e77d2fc5b65a70d94b1b6adc6b9", "format-version": 4, "code-base-name": "qanda_backend", "filename": "qanda_backend/api/services/openai_client.py", "fields": [{"name": "OpenAI = None", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "SYSTEM_PROMPT = (", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "logger = logging.getLogger(\"api.services.openai_client\")", "scope": "", "scopeKind": "", "description": "unavailable"}]}